import{_ as n,y as s,x as a,W as p}from"./plugin-vue_export-helper.abe1cdd2.js";var t="/uniapp/assets/9-1.78cf168e.png",e="/uniapp/assets/9-2.2f297820.png",o="/uniapp/assets/9-3.e8a94f20.png",c="/uniapp/assets/9-4.1751ddce.png";const y='{"title":"9. \u8D2D\u7269\u8F66\u9875\u9762","description":"","frontmatter":{},"headers":[{"level":2,"title":"9.0 \u521B\u5EFA\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F","slug":"_9-0-\u521B\u5EFA\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F"},{"level":2,"title":"9.1 \u5546\u54C1\u5217\u8868\u533A\u57DF","slug":"_9-1-\u5546\u54C1\u5217\u8868\u533A\u57DF"},{"level":3,"title":"9.1.1 \u6E32\u67D3\u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF","slug":"_9-1-1-\u6E32\u67D3\u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF"},{"level":3,"title":"9.1.2 \u6E32\u67D3\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u57FA\u672C\u7ED3\u6784","slug":"_9-1-2-\u6E32\u67D3\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u57FA\u672C\u7ED3\u6784"},{"level":3,"title":"9.1.3 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 radio \u52FE\u9009\u72B6\u6001","slug":"_9-1-3-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-\u52FE\u9009\u72B6\u6001"},{"level":3,"title":"9.1.4 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 radio-change \u4E8B\u4EF6","slug":"_9-1-4-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-change-\u4E8B\u4EF6"},{"level":3,"title":"9.1.5 \u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001","slug":"_9-1-5-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001"},{"level":3,"title":"9.1.6 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 NumberBox","slug":"_9-1-6-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-numberbox"},{"level":3,"title":"9.1.7 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 num-change \u4E8B\u4EF6","slug":"_9-1-7-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-num-change-\u4E8B\u4EF6"},{"level":3,"title":"9.1.8 \u89E3\u51B3 NumberBox \u6570\u636E\u4E0D\u5408\u6CD5\u7684\u95EE\u9898","slug":"_9-1-8-\u89E3\u51B3-numberbox-\u6570\u636E\u4E0D\u5408\u6CD5\u7684\u95EE\u9898"},{"level":3,"title":"9.1.9 \u5B8C\u5584 NumberBox \u7684 inputValue \u4FA6\u542C\u5668","slug":"_9-1-9-\u5B8C\u5584-numberbox-\u7684-inputvalue-\u4FA6\u542C\u5668"},{"level":3,"title":"9.1.10 \u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF","slug":"_9-1-10-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF"},{"level":3,"title":"9.1.11 \u6E32\u67D3\u6ED1\u52A8\u5220\u9664\u7684 UI \u6548\u679C","slug":"_9-1-11-\u6E32\u67D3\u6ED1\u52A8\u5220\u9664\u7684-ui-\u6548\u679C"},{"level":3,"title":"9.1.12 \u5B9E\u73B0\u6ED1\u52A8\u5220\u9664\u7684\u529F\u80FD","slug":"_9-1-12-\u5B9E\u73B0\u6ED1\u52A8\u5220\u9664\u7684\u529F\u80FD"},{"level":2,"title":"9.2 \u6536\u8D27\u5730\u5740\u533A\u57DF","slug":"_9-2-\u6536\u8D27\u5730\u5740\u533A\u57DF"},{"level":3,"title":"9.2.1 \u521B\u5EFA\u6536\u8D27\u5730\u5740\u7EC4\u4EF6","slug":"_9-2-1-\u521B\u5EFA\u6536\u8D27\u5730\u5740\u7EC4\u4EF6"},{"level":3,"title":"9.2.2 \u5B9E\u73B0\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6309\u9700\u5C55\u793A","slug":"_9-2-2-\u5B9E\u73B0\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6309\u9700\u5C55\u793A"},{"level":3,"title":"9.2.3 \u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD","slug":"_9-2-3-\u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD"},{"level":3,"title":"9.2.4 \u5C06 address \u4FE1\u606F\u5B58\u50A8\u5230 vuex \u4E2D","slug":"_9-2-4-\u5C06-address-\u4FE1\u606F\u5B58\u50A8\u5230-vuex-\u4E2D"},{"level":3,"title":"9.2.5 \u5C06 Store \u4E2D\u7684 address \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730","slug":"_9-2-5-\u5C06-store-\u4E2D\u7684-address-\u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730"},{"level":3,"title":"9.2.6 \u5C06 addstr \u62BD\u79BB\u4E3A getters","slug":"_9-2-6-\u5C06-addstr-\u62BD\u79BB\u4E3A-getters"},{"level":3,"title":"9.2.7 \u91CD\u65B0\u9009\u62E9\u6536\u8D27\u5730\u5740","slug":"_9-2-7-\u91CD\u65B0\u9009\u62E9\u6536\u8D27\u5730\u5740"},{"level":2,"title":"9.3 \u7ED3\u7B97\u533A\u57DF","slug":"_9-3-\u7ED3\u7B97\u533A\u57DF"},{"level":3,"title":"9.3.1 \u628A\u7ED3\u7B97\u533A\u57DF\u5C01\u88C5\u4E3A\u7EC4\u4EF6","slug":"_9-3-1-\u628A\u7ED3\u7B97\u533A\u57DF\u5C01\u88C5\u4E3A\u7EC4\u4EF6"},{"level":3,"title":"9.3.2 \u6E32\u67D3\u7ED3\u7B97\u533A\u57DF\u7684\u7ED3\u6784\u548C\u6837\u5F0F","slug":"_9-3-2-\u6E32\u67D3\u7ED3\u7B97\u533A\u57DF\u7684\u7ED3\u6784\u548C\u6837\u5F0F"},{"level":3,"title":"9.3.3 \u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF","slug":"_9-3-3-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF"},{"level":3,"title":"9.3.4 \u52A8\u6001\u6E32\u67D3\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001","slug":"_9-3-4-\u52A8\u6001\u6E32\u67D3\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001"},{"level":3,"title":"9.3.5 \u5B9E\u73B0\u5546\u54C1\u7684\u5168\u9009/\u53CD\u9009\u529F\u80FD","slug":"_9-3-5-\u5B9E\u73B0\u5546\u54C1\u7684\u5168\u9009-\u53CD\u9009\u529F\u80FD"},{"level":3,"title":"9.3.6 \u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C","slug":"_9-3-6-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C"},{"level":3,"title":"9.3.7 \u52A8\u6001\u8BA1\u7B97\u8D2D\u7269\u8F66\u5FBD\u6807\u7684\u6570\u503C","slug":"_9-3-7-\u52A8\u6001\u8BA1\u7B97\u8D2D\u7269\u8F66\u5FBD\u6807\u7684\u6570\u503C"},{"level":3,"title":"9.3.8 \u6E32\u67D3\u8D2D\u7269\u8F66\u4E3A\u7A7A\u65F6\u7684\u9875\u9762\u7ED3\u6784","slug":"_9-3-8-\u6E32\u67D3\u8D2D\u7269\u8F66\u4E3A\u7A7A\u65F6\u7684\u9875\u9762\u7ED3\u6784"},{"level":2,"title":"9.4 \u5206\u652F\u7684\u5408\u5E76\u4E0E\u63D0\u4EA4","slug":"_9-4-\u5206\u652F\u7684\u5408\u5E76\u4E0E\u63D0\u4EA4"}],"relativePath":"uniapp/mds/9.cart.md","lastUpdated":1652351976446}',l={},u=p('<h1 id="_9-\u8D2D\u7269\u8F66\u9875\u9762" tabindex="-1">9. \u8D2D\u7269\u8F66\u9875\u9762 <a class="header-anchor" href="#_9-\u8D2D\u7269\u8F66\u9875\u9762" aria-hidden="true">#</a></h1><h2 id="_9-0-\u521B\u5EFA\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F" tabindex="-1">9.0 \u521B\u5EFA\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F <a class="header-anchor" href="#_9-0-\u521B\u5EFA\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F" aria-hidden="true">#</a></h2><ol><li><p>\u6253\u5F00\u5FAE\u4FE1\u5F00\u53D1\u8005\u5DE5\u5177\uFF0C\u70B9\u51FB\u5DE5\u5177\u680F\u4E0A\u7684\u201C\u7F16\u8BD1\u6A21\u5F0F\u201D\u4E0B\u62C9\u83DC\u5355\uFF0C\u9009\u62E9\u201C\u6DFB\u52A0\u7F16\u8BD1\u6A21\u5F0F\u201D\uFF1A</p><p><img src="'+t+'" alt=""></p></li><li><p>\u52FE\u9009\u201C\u542F\u52A8\u9875\u9762\u7684\u8DEF\u5F84\u201D\u4E4B\u540E\uFF0C\u70B9\u51FB\u201C\u786E\u5B9A\u201D\u6309\u94AE\uFF0C\u65B0\u589E\u8D2D\u7269\u8F66\u9875\u9762\u7684\u7F16\u8BD1\u6A21\u5F0F\uFF1A</p><p><img src="'+e+`" alt=""></p></li></ol><h2 id="_9-1-\u5546\u54C1\u5217\u8868\u533A\u57DF" tabindex="-1">9.1 \u5546\u54C1\u5217\u8868\u533A\u57DF <a class="header-anchor" href="#_9-1-\u5546\u54C1\u5217\u8868\u533A\u57DF" aria-hidden="true">#</a></h2><h3 id="_9-1-1-\u6E32\u67D3\u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF" tabindex="-1">9.1.1 \u6E32\u67D3\u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF <a class="header-anchor" href="#_9-1-1-\u6E32\u67D3\u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF" aria-hidden="true">#</a></h3><ol><li><p>\u5B9A\u4E49\u5982\u4E0B\u7684 UI \u7ED3\u6784\uFF1A</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5DE6\u4FA7\u7684\u56FE\u6807 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-icons</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-icons</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u63CF\u8FF0\u6587\u672C --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-title-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8D2D\u7269\u8F66<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u7F8E\u5316\u6837\u5F0F\uFF1A</p><div class="language-scss line-numbers-mode"><pre><code><span class="token selector">.cart-title </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #efefef<span class="token punctuation">;</span>
  <span class="token selector">.cart-title-text </span><span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_9-1-2-\u6E32\u67D3\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u57FA\u672C\u7ED3\u6784" tabindex="-1">9.1.2 \u6E32\u67D3\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u57FA\u672C\u7ED3\u6784 <a class="header-anchor" href="#_9-1-2-\u6E32\u67D3\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u57FA\u672C\u7ED3\u6784" aria-hidden="true">#</a></h3><ol><li><p>\u901A\u8FC7 <code>mapState</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u5C06 Store \u4E2D\u7684 <code>cart</code> \u6570\u7EC4\u6620\u5C04\u5230\u5F53\u524D\u9875\u9762\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br></div><pre><code><span class="token keyword">import</span> badgeMix <span class="token keyword">from</span> <span class="token string">&#39;@/mixins/tabbar-badge.js&#39;</span>
<span class="token comment">// \u6309\u9700\u5BFC\u5165 mapState \u8FD9\u4E2A\u8F85\u52A9\u51FD\u6570</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>badgeMix<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06 m_cart \u6A21\u5757\u4E2D\u7684 cart \u6570\u7EC4\u6620\u5C04\u5230\u5F53\u524D\u9875\u9762\u4E2D\u4F7F\u7528</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;cart&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u5728 UI \u7ED3\u6784\u4E2D\uFF0C\u901A\u8FC7 <code>v-for</code> \u6307\u4EE4\u5FAA\u73AF\u6E32\u67D3\u81EA\u5B9A\u4E49\u7684 <code>my-goods</code> \u7EC4\u4EF6\uFF1A</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h3 id="_9-1-3-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-\u52FE\u9009\u72B6\u6001" tabindex="-1">9.1.3 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 radio \u52FE\u9009\u72B6\u6001 <a class="header-anchor" href="#_9-1-3-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-\u52FE\u9009\u72B6\u6001" aria-hidden="true">#</a></h3><ol><li><p>\u6253\u5F00 <code>my-goods.vue</code> \u7EC4\u4EF6\u7684\u6E90\u4EE3\u7801\uFF0C\u4E3A\u5546\u54C1\u7684\u5DE6\u4FA7\u56FE\u7247\u533A\u57DF\u6DFB\u52A0 <code>radio</code> \u7EC4\u4EF6\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5DE6\u4FA7\u56FE\u7247\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-item-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">checked</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radio</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_small_logo || defaultPic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-pic<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u7ED9\u7C7B\u540D\u4E3A <code>goods-item-left</code> \u7684 <code>view</code> \u7EC4\u4EF6\u6DFB\u52A0\u6837\u5F0F\uFF0C\u5B9E\u73B0 <code>radio</code> \u7EC4\u4EF6\u548C <code>image</code> \u7EC4\u4EF6\u7684\u5DE6\u53F3\u5E03\u5C40\uFF1A</p><div class="language-css line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br></div><pre><code><span class="token selector">.goods-item-left</span> <span class="token punctuation">{</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>

  <span class="token selector">.goods-pic</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u5C01\u88C5\u540D\u79F0\u4E3A <code>showRadio</code> \u7684 <code>props</code> \u5C5E\u6027\uFF0C\u6765\u63A7\u5236\u5F53\u524D\u7EC4\u4EF6\u4E2D\u662F\u5426\u663E\u793A radio \u7EC4\u4EF6\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B9A\u4E49 props \u5C5E\u6027\uFF0C\u7528\u6765\u63A5\u6536\u5916\u754C\u4F20\u9012\u5230\u5F53\u524D\u7EC4\u4EF6\u7684\u6570\u636E</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5546\u54C1\u7684\u4FE1\u606F\u5BF9\u8C61</span>
    <span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u662F\u5426\u5C55\u793A\u56FE\u7247\u5DE6\u4FA7\u7684 radio</span>
    <span class="token literal-property property">showRadio</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token comment">// \u5982\u679C\u5916\u754C\u6CA1\u6709\u6307\u5B9A show-radio \u5C5E\u6027\u7684\u503C\uFF0C\u5219\u9ED8\u8BA4\u4E0D\u5C55\u793A radio \u7EC4\u4EF6</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u4F7F\u7528 <code>v-if</code> \u6307\u4EE4\u63A7\u5236 <code>radio</code> \u7EC4\u4EF6\u7684\u6309\u9700\u5C55\u793A\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5DE6\u4FA7\u56FE\u7247\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-item-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u4F7F\u7528 v-if \u6307\u4EE4\u63A7\u5236 radio \u7EC4\u4EF6\u7684\u663E\u793A\u4E0E\u9690\u85CF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">checked</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRadio<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radio</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_small_logo || defaultPic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-pic<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\u7684\u5546\u54C1\u5217\u8868\u533A\u57DF\uFF0C\u6307\u5B9A <code>:show-radio=&quot;true&quot;</code> \u5C5E\u6027\uFF0C\u4ECE\u800C\u663E\u793A radio \u7EC4\u4EF6\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-radio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u4FEE\u6539 <code>my-goods.vue</code> \u7EC4\u4EF6\uFF0C\u52A8\u6001\u4E3A <code>radio</code> \u7ED1\u5B9A\u9009\u4E2D\u72B6\u6001\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5DE6\u4FA7\u56FE\u7247\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-item-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5B58\u50A8\u5728\u8D2D\u7269\u8F66\u4E2D\u7684\u5546\u54C1\uFF0C\u5305\u542B goods_state \u5C5E\u6027\uFF0C\u8868\u793A\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_state<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRadio<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radio</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_small_logo || defaultPic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-pic<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol><h3 id="_9-1-4-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-change-\u4E8B\u4EF6" tabindex="-1">9.1.4 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 radio-change \u4E8B\u4EF6 <a class="header-anchor" href="#_9-1-4-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-radio-change-\u4E8B\u4EF6" aria-hidden="true">#</a></h3><ol><li><p>\u5F53\u7528\u6237\u70B9\u51FB radio \u7EC4\u4EF6\uFF0C<strong>\u5E0C\u671B\u4FEE\u6539\u5F53\u524D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001</strong>\uFF0C\u6B64\u65F6\u7528\u6237\u53EF\u4EE5\u4E3A <code>my-goods</code> \u7EC4\u4EF6\u7ED1\u5B9A <code>@radio-change</code> \u4E8B\u4EF6\uFF0C\u4ECE\u800C\u83B7\u53D6\u5F53\u524D\u5546\u54C1\u7684 <code>goods_id</code> \u548C <code>goods_state</code>\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5728 radioChangeHandler \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u4E2D\uFF0C\u901A\u8FC7\u4E8B\u4EF6\u5BF9\u8C61 e\uFF0C\u5F97\u5230\u5546\u54C1\u7684 goods_id \u548C goods_state --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-radio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@radio-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioChangeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5B9A\u4E49 <code>radioChangeHandler</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\u53D1\u751F\u4E86\u53D8\u5316</span>
  <span class="token function">radioChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">// \u8F93\u51FA\u5F97\u5230\u7684\u6570\u636E -&gt; {goods_id: 395, goods_state: false}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u4E2D\uFF0C\u4E3A <code>radio</code> \u7EC4\u4EF6\u7ED1\u5B9A <code>@click</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5DE6\u4FA7\u56FE\u7247\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-item-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_state<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showRadio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioClickHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>radio</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_small_logo || defaultPic<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-pic<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u7684 methods \u8282\u70B9\u4E2D\uFF0C\u5B9A\u4E49 <code>radioClickHandler</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// radio \u7EC4\u4EF6\u7684\u70B9\u51FB\u4E8B\u4EF6\u5904\u7406\u51FD\u6570</span>
  <span class="token function">radioClickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7 this.$emit() \u89E6\u53D1\u5916\u754C\u901A\u8FC7 @ \u7ED1\u5B9A\u7684 radio-change \u4E8B\u4EF6\uFF0C</span>
    <span class="token comment">// \u540C\u65F6\u628A\u5546\u54C1\u7684 Id \u548C \u52FE\u9009\u72B6\u6001 \u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u7ED9 radio-change \u4E8B\u4EF6\u5904\u7406\u51FD\u6570</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;radio-change&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5546\u54C1\u7684 Id</span>
      <span class="token literal-property property">goods_id</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">,</span>
      <span class="token comment">// \u5546\u54C1\u6700\u65B0\u7684\u52FE\u9009\u72B6\u6001</span>
      <span class="token literal-property property">goods_state</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>goods<span class="token punctuation">.</span>goods_state
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol><h3 id="_9-1-5-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001" tabindex="-1">9.1.5 \u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001 <a class="header-anchor" href="#_9-1-5-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u4E2D\uFF0C\u58F0\u660E\u5982\u4E0B\u7684 <code>mutations</code> \u65B9\u6CD5\uFF0C\u7528\u6765\u4FEE\u6539\u5BF9\u5E94\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u66F4\u65B0\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001</span>
<span class="token function">updateGoodsState</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> goods</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6839\u636E goods_id \u67E5\u8BE2\u8D2D\u7269\u8F66\u4E2D\u5BF9\u5E94\u5546\u54C1\u7684\u4FE1\u606F\u5BF9\u8C61</span>
  <span class="token keyword">const</span> findResult <span class="token operator">=</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_id <span class="token operator">===</span> goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">)</span>

  <span class="token comment">// \u6709\u5BF9\u5E94\u7684\u5546\u54C1\u4FE1\u606F\u5BF9\u8C61</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>findResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u66F4\u65B0\u5BF9\u5E94\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001</span>
    findResult<span class="token punctuation">.</span>goods_state <span class="token operator">=</span> goods<span class="token punctuation">.</span>goods_state
    <span class="token comment">// \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart/saveToStorage&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\uFF0C\u5BFC\u5165 <code>mapMutations</code> \u8FD9\u4E2A\u8F85\u52A9\u51FD\u6570\uFF0C\u4ECE\u800C\u5C06\u9700\u8981\u7684 mutations \u65B9\u6CD5\u6620\u5C04\u5230\u5F53\u524D\u9875\u9762\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><br><br><div class="highlighted">\xA0</div><br><br><br><br></div><pre><code><span class="token keyword">import</span> badgeMix <span class="token keyword">from</span> <span class="token string">&#39;@/mixins/tabbar-badge.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>badgeMix<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;cart&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateGoodsState&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\u53D1\u751F\u4E86\u53D8\u5316</span>
    <span class="token function">radioChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateGoodsState</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ol><h3 id="_9-1-6-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-numberbox" tabindex="-1">9.1.6 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 NumberBox <a class="header-anchor" href="#_9-1-6-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-numberbox" aria-hidden="true">#</a></h3><blockquote><p>\u6CE8\u610F\uFF1A<a href="https://ext.dcloud.net.cn/plugin?id=31" target="_blank" rel="noopener noreferrer">NumberBox</a> \u7EC4\u4EF6\u662F uni-ui \u63D0\u4F9B\u7684</p></blockquote><ol><li><p>\u4FEE\u6539 <code>my-goods.vue</code> \u7EC4\u4EF6\u7684\u6E90\u4EE3\u7801\uFF0C\u5728\u7C7B\u540D\u4E3A <code>goods-info-box</code> \u7684 view \u7EC4\u4EF6\u5185\u90E8\u6E32\u67D3 <code>NumberBox</code> \u7EC4\u4EF6\u7684\u57FA\u672C\u7ED3\u6784\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u4EF7\u683C --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{goods.goods_price | tofixed}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u6570\u91CF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-number-box</span> <span class="token attr-name">:min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-number-box</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u7F8E\u5316\u9875\u9762\u7684\u7ED3\u6784\uFF1A</p><div class="language-scss line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br></div><pre><code><span class="token selector">.goods-item-right </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>

  <span class="token selector">.goods-name </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.goods-info-box </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.goods-price </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #c00000<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u4E2D\uFF0C\u52A8\u6001\u4E3A <code>NumberBox</code> \u7EC4\u4EF6\u7ED1\u5B9A\u5546\u54C1\u7684\u6570\u91CF\u503C\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u4EF7\u683C --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{goods.goods_price | tofixed}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u6570\u91CF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-number-box</span> <span class="token attr-name">:min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-number-box</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u4E2D\uFF0C\u5C01\u88C5\u540D\u79F0\u4E3A <code>showNum</code> \u7684 <code>props</code> \u5C5E\u6027\uFF0C\u6765\u63A7\u5236\u5F53\u524D\u7EC4\u4EF6\u4E2D\u662F\u5426\u663E\u793A <code>NumberBox</code> \u7EC4\u4EF6\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B9A\u4E49 props \u5C5E\u6027\uFF0C\u7528\u6765\u63A5\u6536\u5916\u754C\u4F20\u9012\u5230\u5F53\u524D\u7EC4\u4EF6\u7684\u6570\u636E</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5546\u54C1\u7684\u4FE1\u606F\u5BF9\u8C61</span>
    <span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token literal-property property">defaul</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u662F\u5426\u5C55\u793A\u56FE\u7247\u5DE6\u4FA7\u7684 radio</span>
    <span class="token literal-property property">showRadio</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token comment">// \u5982\u679C\u5916\u754C\u6CA1\u6709\u6307\u5B9A show-radio \u5C5E\u6027\u7684\u503C\uFF0C\u5219\u9ED8\u8BA4\u4E0D\u5C55\u793A radio \u7EC4\u4EF6</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u662F\u5426\u5C55\u793A\u4EF7\u683C\u53F3\u4FA7\u7684 NumberBox \u7EC4\u4EF6</span>
    <span class="token literal-property property">showNum</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u4E2D\uFF0C\u4F7F\u7528 <code>v-if</code> \u6307\u4EE4\u63A7\u5236 <code>NumberBox</code> \u7EC4\u4EF6\u7684\u6309\u9700\u5C55\u793A\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u4EF7\u683C --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{goods.goods_price | tofixed}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u6570\u91CF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-number-box</span> <span class="token attr-name">:min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numChangeHandler<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showNum<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-number-box</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\u7684\u5546\u54C1\u5217\u8868\u533A\u57DF\uFF0C\u6307\u5B9A <code>:show-num=&quot;true&quot;</code> \u5C5E\u6027\uFF0C\u4ECE\u800C\u663E\u793A <code>NumberBox</code> \u7EC4\u4EF6\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-radio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@radio-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioChangeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h3 id="_9-1-7-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-num-change-\u4E8B\u4EF6" tabindex="-1">9.1.7 \u4E3A my-goods \u7EC4\u4EF6\u5C01\u88C5 num-change \u4E8B\u4EF6 <a class="header-anchor" href="#_9-1-7-\u4E3A-my-goods-\u7EC4\u4EF6\u5C01\u88C5-num-change-\u4E8B\u4EF6" aria-hidden="true">#</a></h3><ol><li><p>\u5F53\u7528\u6237\u4FEE\u6539\u4E86 <code>NumberBox</code> \u7684\u503C\u4EE5\u540E\uFF0C\u5E0C\u671B\u5C06\u6700\u65B0\u7684\u5546\u54C1\u6570\u91CF\u66F4\u65B0\u5230\u8D2D\u7269\u8F66\u4E2D\uFF0C\u6B64\u65F6\u7528\u6237\u53EF\u4EE5\u4E3A <code>my-goods</code> \u7EC4\u4EF6\u7ED1\u5B9A <code>@num-change</code> \u4E8B\u4EF6\uFF0C\u4ECE\u800C\u83B7\u53D6\u5F53\u524D\u5546\u54C1\u7684 <code>goods_id</code> \u548C <code>goods_count\uFF1A</code></p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-radio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@radio-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioChangeHandler<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@num-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numberChangeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5B9A\u4E49 <code>numberChangeHandler</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u5546\u54C1\u7684\u6570\u91CF\u53D1\u751F\u4E86\u53D8\u5316</span>
<span class="token function">numberChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u4E2D\uFF0C\u4E3A <code>uni-number-box</code> \u7EC4\u4EF6\u7ED1\u5B9A <code>@change</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u4EF7\u683C --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{goods.goods_price | tofixed}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5546\u54C1\u6570\u91CF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-number-box</span> <span class="token attr-name">:min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.goods_count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numChangeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-number-box</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5728 <code>my-goods.vue</code> \u7EC4\u4EF6\u7684 <code>methods</code> \u8282\u70B9\u4E2D\uFF0C\u5B9A\u4E49 <code>numChangeHandler</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// NumberBox \u7EC4\u4EF6\u7684 change \u4E8B\u4EF6\u5904\u7406\u51FD\u6570</span>
  <span class="token function">numChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7 this.$emit() \u89E6\u53D1\u5916\u754C\u901A\u8FC7 @ \u7ED1\u5B9A\u7684 num-change \u4E8B\u4EF6</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;num-change&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5546\u54C1\u7684 Id</span>
      <span class="token literal-property property">goods_id</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">,</span>
      <span class="token comment">// \u5546\u54C1\u7684\u6700\u65B0\u6570\u91CF</span>
      <span class="token literal-property property">goods_count</span><span class="token operator">:</span> <span class="token operator">+</span>val
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ol><h3 id="_9-1-8-\u89E3\u51B3-numberbox-\u6570\u636E\u4E0D\u5408\u6CD5\u7684\u95EE\u9898" tabindex="-1">9.1.8 \u89E3\u51B3 NumberBox \u6570\u636E\u4E0D\u5408\u6CD5\u7684\u95EE\u9898 <a class="header-anchor" href="#_9-1-8-\u89E3\u51B3-numberbox-\u6570\u636E\u4E0D\u5408\u6CD5\u7684\u95EE\u9898" aria-hidden="true">#</a></h3><blockquote><p>\u95EE\u9898\u8BF4\u660E\uFF1A\u5F53\u7528\u6237\u5728 NumberBox \u4E2D\u8F93\u5165\u5B57\u6BCD\u7B49\u975E\u6CD5\u5B57\u7B26\u4E4B\u540E\uFF0C\u4F1A\u5BFC\u81F4 NumberBox \u6570\u636E\u7D0A\u4E71\u7684\u95EE\u9898</p></blockquote><ol><li><p>\u6253\u5F00\u9879\u76EE\u6839\u76EE\u5F55\u4E2D <code>components/uni-number-box/uni-number-box.vue</code> \u7EC4\u4EF6\uFF0C\u4FEE\u6539 <code>methods</code> \u8282\u70B9\u4E2D\u7684 <code>_onBlur</code> \u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br></div><pre><code><span class="token function">_onBlur</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B98\u65B9\u7684\u4EE3\u7801\u6CA1\u6709\u8FDB\u884C\u6570\u503C\u8F6C\u6362\uFF0C\u7528\u6237\u8F93\u5165\u7684 value \u503C\u53EF\u80FD\u662F\u975E\u6CD5\u5B57\u7B26\uFF1A</span>
  <span class="token comment">// let value = event.detail.value;</span>

  <span class="token comment">// \u5C06\u7528\u6237\u8F93\u5165\u7684\u5185\u5BB9\u8F6C\u5316\u4E3A\u6574\u6570</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u8F6C\u5316\u4E4B\u540E\u7684\u7ED3\u679C\u4E3A NaN\uFF0C\u5219\u7ED9\u5B9A\u9ED8\u8BA4\u503C\u4E3A 1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>inputValue <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u7701\u7565\u5176\u5B83\u4EE3\u7801...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u4FEE\u6539\u5B8C\u6BD5\u4E4B\u540E\uFF0C\u7528\u6237\u8F93\u5165<strong>\u5C0F\u6570</strong>\u4F1A<strong>\u88AB\u8F6C\u5316\u4E3A\u6574\u6570</strong>\uFF0C\u7528\u6237\u8F93\u5165<strong>\u975E\u6CD5\u5B57\u7B26</strong>\u4F1A<strong>\u88AB\u66FF\u6362\u4E3A\u9ED8\u8BA4\u503C 1</strong></p></li></ol><h3 id="_9-1-9-\u5B8C\u5584-numberbox-\u7684-inputvalue-\u4FA6\u542C\u5668" tabindex="-1">9.1.9 \u5B8C\u5584 NumberBox \u7684 inputValue \u4FA6\u542C\u5668 <a class="header-anchor" href="#_9-1-9-\u5B8C\u5584-numberbox-\u7684-inputvalue-\u4FA6\u542C\u5668" aria-hidden="true">#</a></h3><blockquote><p>\u95EE\u9898\u8BF4\u660E\uFF1A\u5728\u7528\u6237\u6BCF\u6B21\u8F93\u5165\u5185\u5BB9\u4E4B\u540E\uFF0C\u90FD\u4F1A\u89E6\u53D1 inputValue \u4FA6\u542C\u5668\uFF0C\u4ECE\u800C\u8C03\u7528 this.$emit(&quot;change&quot;, newVal) \u65B9\u6CD5\u3002\u8FD9\u79CD\u505A\u6CD5\u53EF\u80FD\u4F1A\u628A\u4E0D\u5408\u6CD5\u7684\u5185\u5BB9\u4F20\u9012\u51FA\u53BB\uFF01</p></blockquote><ol><li><p>\u6253\u5F00\u9879\u76EE\u6839\u76EE\u5F55\u4E2D <code>components/uni-number-box/uni-number-box.vue</code> \u7EC4\u4EF6\uFF0C\u4FEE\u6539 <code>watch</code> \u8282\u70B9\u4E2D\u7684 <code>inputValue</code> \u4FA6\u542C\u5668\u5982\u4E0B\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted">\xA0</div><br><br><br><br></div><pre><code><span class="token function">inputValue</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5B98\u65B9\u63D0\u4F9B\u7684 if \u5224\u65AD\u6761\u4EF6\uFF0C\u5728\u7528\u6237\u6BCF\u6B21\u8F93\u5165\u5185\u5BB9\u65F6\uFF0C\u90FD\u4F1A\u8C03\u7528 this.$emit(&quot;change&quot;, newVal)</span>
  <span class="token comment">// if (+newVal !== +oldVal) {</span>

  <span class="token comment">// \u65B0\u65E7\u5185\u5BB9\u4E0D\u540C &amp;&amp; \u65B0\u503C\u5185\u5BB9\u5408\u6CD5 &amp;&amp; \u65B0\u503C\u4E2D\u4E0D\u5305\u542B\u5C0F\u6570\u70B9</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">+</span>newVal <span class="token operator">!==</span> <span class="token operator">+</span>oldVal <span class="token operator">&amp;&amp;</span> <span class="token function">Number</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">String</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>\u4FEE\u6539\u5B8C\u6BD5\u4E4B\u540E\uFF0CNumberBox \u7EC4\u4EF6\u53EA\u4F1A\u628A<strong>\u5408\u6CD5\u7684\u3001\u4E14\u4E0D\u5305\u542B\u5C0F\u6570\u70B9\u7684\u65B0\u503C</strong>\u4F20\u9012\u51FA\u53BB</p></li></ol><h3 id="_9-1-10-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF" tabindex="-1">9.1.10 \u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF <a class="header-anchor" href="#_9-1-10-\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u4E2D\uFF0C\u58F0\u660E\u5982\u4E0B\u7684 mutations \u65B9\u6CD5\uFF0C\u7528\u6765\u4FEE\u6539\u5BF9\u5E94\u5546\u54C1\u7684\u6570\u91CF\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u66F4\u65B0\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF</span>
<span class="token function">updateGoodsCount</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> goods</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6839\u636E goods_id \u67E5\u8BE2\u8D2D\u7269\u8F66\u4E2D\u5BF9\u5E94\u5546\u54C1\u7684\u4FE1\u606F\u5BF9\u8C61</span>
  <span class="token keyword">const</span> findResult <span class="token operator">=</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_id <span class="token operator">===</span> goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">)</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>findResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u66F4\u65B0\u5BF9\u5E94\u5546\u54C1\u7684\u6570\u91CF</span>
    findResult<span class="token punctuation">.</span>goods_count <span class="token operator">=</span> goods<span class="token punctuation">.</span>goods_count
    <span class="token comment">// \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart/saveToStorage&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\uFF0C\u901A\u8FC7 <code>mapMutations</code> \u8FD9\u4E2A\u8F85\u52A9\u51FD\u6570\uFF0C\u5C06\u9700\u8981\u7684 <code>mutations</code> \u65B9\u6CD5\u6620\u5C04\u5230\u5F53\u524D\u9875\u9762\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token keyword">import</span> badgeMix <span class="token keyword">from</span> <span class="token string">&#39;@/mixins/tabbar-badge.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>badgeMix<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;cart&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateGoodsState&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;updateGoodsCount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\u53D1\u751F\u4E86\u53D8\u5316</span>
    <span class="token function">radioChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateGoodsState</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5546\u54C1\u7684\u6570\u91CF\u53D1\u751F\u4E86\u53D8\u5316</span>
    <span class="token function">numberChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateGoodsCount</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ol><h3 id="_9-1-11-\u6E32\u67D3\u6ED1\u52A8\u5220\u9664\u7684-ui-\u6548\u679C" tabindex="-1">9.1.11 \u6E32\u67D3\u6ED1\u52A8\u5220\u9664\u7684 UI \u6548\u679C <a class="header-anchor" href="#_9-1-11-\u6E32\u67D3\u6ED1\u52A8\u5220\u9664\u7684-ui-\u6548\u679C" aria-hidden="true">#</a></h3><blockquote><p>\u6ED1\u52A8\u5220\u9664\u9700\u8981\u7528\u5230 uni-ui \u7684 uni-swipe-action \u7EC4\u4EF6\u548C uni-swipe-action-item\u3002\u8BE6\u7EC6\u7684\u5B98\u65B9\u6587\u6863\u8BF7\u53C2\u8003<a href="https://ext.dcloud.net.cn/plugin?id=181" target="_blank" rel="noopener noreferrer">SwipeAction \u6ED1\u52A8\u64CD\u4F5C</a>\u3002</p></blockquote><ol><li><p>\u6539\u9020 <code>cart.vue</code> \u9875\u9762\u7684 UI \u7ED3\u6784\uFF0C\u5C06\u5546\u54C1\u5217\u8868\u533A\u57DF\u7684\u7ED3\u6784\u4FEE\u6539\u5982\u4E0B\uFF08\u53EF\u4EE5\u4F7F\u7528 <strong>uSwipeAction</strong> \u4EE3\u7801\u5757\u5FEB\u901F\u751F\u6210\u57FA\u672C\u7684 UI \u7ED3\u6784\uFF09\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><br></div><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>
<span class="token comment">&lt;!-- uni-swipe-action \u662F\u6700\u5916\u5C42\u5305\u88F9\u6027\u8D28\u7684\u5BB9\u5668 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-swipe-action</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(goods, i) in cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- uni-swipe-action-item \u53EF\u4EE5\u4E3A\u5176\u5B50\u8282\u70B9\u63D0\u4F9B\u6ED1\u52A8\u64CD\u4F5C\u7684\u6548\u679C\u3002\u9700\u8981\u901A\u8FC7 options \u5C5E\u6027\u6765\u6307\u5B9A\u64CD\u4F5C\u6309\u94AE\u7684\u914D\u7F6E\u4FE1\u606F --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-swipe-action-item</span> <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>options<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>swipeActionClickHandler(goods)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-goods</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-radio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:show-num</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@radio-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radioChangeHandler<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@num-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numberChangeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-goods</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-swipe-action-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-swipe-action</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u5728 data \u8282\u70B9\u4E2D\u58F0\u660E <code>options</code> \u6570\u7EC4\uFF0C\u7528\u6765\u5B9A\u4E49\u64CD\u4F5C\u6309\u94AE\u7684\u914D\u7F6E\u4FE1\u606F\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;\u5220\u9664&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u663E\u793A\u7684\u6587\u672C\u5185\u5BB9</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;#C00000&#39;</span> <span class="token comment">// \u6309\u94AE\u7684\u80CC\u666F\u989C\u8272</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u5728 <code>methods</code> \u4E2D\u58F0\u660E <code>uni-swipe-action-item</code> \u7EC4\u4EF6\u7684 <code>@click</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u70B9\u51FB\u4E86\u6ED1\u52A8\u64CD\u4F5C\u6309\u94AE</span>
<span class="token function">swipeActionClickHandler</span><span class="token punctuation">(</span><span class="token parameter">goods</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>goods<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u7F8E\u5316 <code>my-goods.vue</code> \u7EC4\u4EF6\u7684\u6837\u5F0F\uFF1A</p><div class="language-scss line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br></div><pre><code><span class="token selector">.goods-item </span><span class="token punctuation">{</span>
  <span class="token comment">// \u8BA9 goods-item \u9879\u5360\u6EE1\u6574\u4E2A\u5C4F\u5E55\u7684\u5BBD\u5EA6</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span>
  <span class="token comment">// \u8BBE\u7F6E\u76D2\u6A21\u578B\u4E3A border-box</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px 5px<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f0f0f0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h3 id="_9-1-12-\u5B9E\u73B0\u6ED1\u52A8\u5220\u9664\u7684\u529F\u80FD" tabindex="-1">9.1.12 \u5B9E\u73B0\u6ED1\u52A8\u5220\u9664\u7684\u529F\u80FD <a class="header-anchor" href="#_9-1-12-\u5B9E\u73B0\u6ED1\u52A8\u5220\u9664\u7684\u529F\u80FD" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u7684 <code>mutations</code> \u8282\u70B9\u4E2D\u58F0\u660E\u5982\u4E0B\u7684\u65B9\u6CD5\uFF0C\u4ECE\u800C\u6839\u636E\u5546\u54C1\u7684 Id \u4ECE\u8D2D\u7269\u8F66\u4E2D\u79FB\u9664\u5BF9\u5E94\u7684\u5546\u54C1\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6839\u636E Id \u4ECE\u8D2D\u7269\u8F66\u4E2D\u5220\u9664\u5BF9\u5E94\u7684\u5546\u54C1\u4FE1\u606F</span>
<span class="token function">removeGoodsById</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> goods_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8C03\u7528\u6570\u7EC4\u7684 filter \u65B9\u6CD5\u8FDB\u884C\u8FC7\u6EE4</span>
  state<span class="token punctuation">.</span>cart <span class="token operator">=</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_id <span class="token operator">!==</span> goods_id<span class="token punctuation">)</span>
  <span class="token comment">// \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart/saveToStorage&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\uFF0C\u4F7F\u7528 <code>mapMutations</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u628A\u9700\u8981\u7684\u65B9\u6CD5\u6620\u5C04\u5230\u5F53\u524D\u9875\u9762\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateGoodsState&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;updateGoodsCount&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;removeGoodsById&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\u53D1\u751F\u4E86\u53D8\u5316</span>
  <span class="token function">radioChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateGoodsState</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5546\u54C1\u7684\u6570\u91CF\u53D1\u751F\u4E86\u53D8\u5316</span>
  <span class="token function">numberChangeHandler</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateGoodsCount</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u70B9\u51FB\u4E86\u6ED1\u52A8\u64CD\u4F5C\u6309\u94AE</span>
  <span class="token function">swipeActionClickHandler</span><span class="token punctuation">(</span><span class="token parameter">goods</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeGoodsById</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>goods_id<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol><h2 id="_9-2-\u6536\u8D27\u5730\u5740\u533A\u57DF" tabindex="-1">9.2 \u6536\u8D27\u5730\u5740\u533A\u57DF <a class="header-anchor" href="#_9-2-\u6536\u8D27\u5730\u5740\u533A\u57DF" aria-hidden="true">#</a></h2><h3 id="_9-2-1-\u521B\u5EFA\u6536\u8D27\u5730\u5740\u7EC4\u4EF6" tabindex="-1">9.2.1 \u521B\u5EFA\u6536\u8D27\u5730\u5740\u7EC4\u4EF6 <a class="header-anchor" href="#_9-2-1-\u521B\u5EFA\u6536\u8D27\u5730\u5740\u7EC4\u4EF6" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>components</code> \u76EE\u5F55\u4E0A\u9F20\u6807\u53F3\u952E\uFF0C\u9009\u62E9 <code>\u65B0\u5EFA\u7EC4\u4EF6</code>\uFF0C\u5E76\u586B\u5199\u7EC4\u4EF6\u76F8\u5173\u7684\u4FE1\u606F\uFF1A</p><p><img src="`+o+`" alt=""></p></li><li><p>\u6E32\u67D3\u6536\u8D27\u5730\u5740\u7EC4\u4EF6\u7684\u57FA\u672C\u7ED3\u6784\uFF1A</p><div class="language-xml line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u76D2\u5B50 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-choose-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnChooseAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u9009\u62E9\u6536\u8D27\u5730\u5740+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u6E32\u67D3\u6536\u8D27\u4FE1\u606F\u7684\u76D2\u5B50 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6536\u8D27\u4EBA\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>escook<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7535\u8BDD\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>138XXXX5555<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-icons</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arrowright<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>16<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-icons</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6536\u8D27\u5730\u5740\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6CB3\u5317\u7701\u90AF\u90F8\u5E02\u80A5\u4E61\u533Axxx \u6CB3\u5317\u7701\u90AF\u90F8\u5E02\u80A5\u4E61\u533Axxx \u6CB3\u5317\u7701\u90AF\u90F8\u5E02\u80A5\u4E61\u533Axxx \u6CB3\u5317\u7701\u90AF\u90F8\u5E02\u80A5\u4E61\u533Axxx <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u5E95\u90E8\u7684\u8FB9\u6846\u7EBF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/cart_border@2x.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-border<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>\u7F8E\u5316\u6536\u8D27\u5730\u5740\u7EC4\u4EF6\u7684\u6837\u5F0F\uFF1A</p><div class="language-scss line-numbers-mode"><pre><code><span class="token comment">// \u5E95\u90E8\u8FB9\u6846\u7EBF\u7684\u6837\u5F0F</span>
<span class="token selector">.address-border </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u76D2\u5B50</span>
<span class="token selector">.address-choose-box </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6E32\u67D3\u6536\u8D27\u4FE1\u606F\u7684\u76D2\u5B50</span>
<span class="token selector">.address-info-box </span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 5px<span class="token punctuation">;</span>

  <span class="token comment">// \u7B2C\u4E00\u884C</span>
  <span class="token selector">.row1 </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>

    <span class="token selector">.row1-right </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>

      <span class="token selector">.phone </span><span class="token punctuation">{</span>
        <span class="token property">margin-right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u7B2C\u4E8C\u884C</span>
  <span class="token selector">.row2 </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>

    <span class="token selector">.row2-left </span><span class="token punctuation">{</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div></li></ol><h3 id="_9-2-2-\u5B9E\u73B0\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6309\u9700\u5C55\u793A" tabindex="-1">9.2.2 \u5B9E\u73B0\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6309\u9700\u5C55\u793A <a class="header-anchor" href="#_9-2-2-\u5B9E\u73B0\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6309\u9700\u5C55\u793A" aria-hidden="true">#</a></h3><ol><li><p>\u5728 data \u4E2D\u5B9A\u4E49\u6536\u8D27\u5730\u5740\u7684\u4FE1\u606F\u5BF9\u8C61\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br><br><br></div><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u6536\u8D27\u5730\u5740</span>
      <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u4F7F\u7528 <code>v-if</code> \u548C <code>v-else</code> \u5B9E\u73B0\u6309\u9700\u5C55\u793A\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u76D2\u5B50 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-choose-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JSON.stringify(address) === <span class="token punctuation">&#39;</span>{}<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnChooseAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u9009\u62E9\u6536\u8D27\u5730\u5740+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6E32\u67D3\u6536\u8D27\u4FE1\u606F\u7684\u76D2\u5B50 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-info-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u7701\u7565\u5176\u5B83\u4EE3\u7801 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h3 id="_9-2-3-\u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD" tabindex="-1">9.2.3 \u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD <a class="header-anchor" href="#_9-2-3-\u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD" aria-hidden="true">#</a></h3><ol><li><p>\u4E3A <code>\u8BF7\u9009\u62E9\u6536\u8D27\u5730\u5740+</code> \u7684 <code>button</code> \u6309\u94AE\u7ED1\u5B9A\u70B9\u51FB\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u76D2\u5B50 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-choose-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JSON.stringify(address) === <span class="token punctuation">&#39;</span>{}<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnChooseAddress<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chooseAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u9009\u62E9\u6536\u8D27\u5730\u5740+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u5B9A\u4E49 <code>chooseAddress</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF0C\u8C03\u7528\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u7684 <code>chooseAddress()</code> API \u5B9E\u73B0\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9009\u62E9\u6536\u8D27\u5730\u5740</span>
  <span class="token keyword">async</span> <span class="token function">chooseAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. \u8C03\u7528\u5C0F\u7A0B\u5E8F\u63D0\u4F9B\u7684 chooseAddress() \u65B9\u6CD5\uFF0C\u5373\u53EF\u4F7F\u7528\u9009\u62E9\u6536\u8D27\u5730\u5740\u7684\u529F\u80FD</span>
    <span class="token comment">//    \u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u6570\u7EC4\uFF1A\u7B2C 1 \u9879\u4E3A\u9519\u8BEF\u5BF9\u8C61\uFF1B\u7B2C 2 \u9879\u4E3A\u6210\u529F\u4E4B\u540E\u7684\u6536\u8D27\u5730\u5740\u5BF9\u8C61</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>err<span class="token punctuation">,</span> succ<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span><span class="token function">chooseAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> err<span class="token punctuation">)</span>

    <span class="token comment">// 2. \u7528\u6237\u6210\u529F\u7684\u9009\u62E9\u4E86\u6536\u8D27\u5730\u5740</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> succ<span class="token punctuation">.</span>errMsg <span class="token operator">===</span> <span class="token string">&#39;chooseAddress:ok&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u4E3A data \u91CC\u9762\u7684\u6536\u8D27\u5730\u5740\u5BF9\u8C61\u8D4B\u503C</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> succ
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u5B9A\u4E49<strong>\u6536\u8D27\u8BE6\u7EC6\u5730\u5740</strong>\u7684\u8BA1\u7B97\u5C5E\u6027\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6536\u8D27\u8BE6\u7EC6\u5730\u5740\u7684\u8BA1\u7B97\u5C5E\u6027</span>
  <span class="token function">addstr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>

    <span class="token comment">// \u62FC\u63A5 \u7701\uFF0C\u5E02\uFF0C\u533A\uFF0C\u8BE6\u7EC6\u5730\u5740 \u7684\u5B57\u7B26\u4E32\u5E76\u8FD4\u56DE\u7ED9\u7528\u6237</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>cityName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>countyName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>detailInfo
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>\u6E32\u67D3\u6536\u8D27\u5730\u5740\u533A\u57DF\u7684\u6570\u636E\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><br><br><div class="highlighted">\xA0</div><br><br><br><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u6E32\u67D3\u6536\u8D27\u4FE1\u606F\u7684\u76D2\u5B50 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-info-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6536\u8D27\u4EBA\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{address.userName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row1-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7535\u8BDD\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{address.telNumber}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-icons</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arrowright<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>16<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-icons</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6536\u8D27\u5730\u5740\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>row2-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{addstr}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ol><h3 id="_9-2-4-\u5C06-address-\u4FE1\u606F\u5B58\u50A8\u5230-vuex-\u4E2D" tabindex="-1">9.2.4 \u5C06 address \u4FE1\u606F\u5B58\u50A8\u5230 vuex \u4E2D <a class="header-anchor" href="#_9-2-4-\u5C06-address-\u4FE1\u606F\u5B58\u50A8\u5230-vuex-\u4E2D" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store</code> \u76EE\u5F55\u4E2D\uFF0C\u521B\u5EFA\u7528\u6237\u76F8\u5173\u7684 <code>vuex</code> \u6A21\u5757\uFF0C\u547D\u540D\u4E3A <code>user.js</code>\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5F00\u542F\u547D\u540D\u7A7A\u95F4</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">// state \u6570\u636E</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u6536\u8D27\u5730\u5740</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// \u65B9\u6CD5</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u66F4\u65B0\u6536\u8D27\u5730\u5740</span>
    <span class="token function">updateAddress</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> address</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>address <span class="token operator">=</span> address
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// \u6570\u636E\u5305\u88C5\u5668</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>\u5728 <code>store/store.js</code> \u6A21\u5757\u4E2D\uFF0C\u5BFC\u5165\u5E76\u6302\u8F7D <code>user.js</code> \u6A21\u5757\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br></div><pre><code><span class="token comment">// 1. \u5BFC\u5165 Vue \u548C Vuex</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>
<span class="token comment">// \u5BFC\u5165\u8D2D\u7269\u8F66\u7684 vuex \u6A21\u5757</span>
<span class="token keyword">import</span> moduleCart <span class="token keyword">from</span> <span class="token string">&#39;./cart.js&#39;</span>
<span class="token comment">// \u5BFC\u5165\u7528\u6237\u7684 vuex \u6A21\u5757</span>
<span class="token keyword">import</span> moduleUser <span class="token keyword">from</span> <span class="token string">&#39;./user.js&#39;</span>

<span class="token comment">// 2. \u5C06 Vuex \u5B89\u88C5\u4E3A Vue \u7684\u63D2\u4EF6</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">// 3. \u521B\u5EFA Store \u7684\u5B9E\u4F8B\u5BF9\u8C61</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// TODO\uFF1A\u6302\u8F7D store \u6A21\u5757</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6302\u8F7D\u8D2D\u7269\u8F66\u7684 vuex \u6A21\u5757\uFF0C\u6A21\u5757\u5185\u6210\u5458\u7684\u8BBF\u95EE\u8DEF\u5F84\u88AB\u8C03\u6574\u4E3A m_cart\uFF0C\u4F8B\u5982\uFF1A</span>
    <span class="token comment">// \u8D2D\u7269\u8F66\u6A21\u5757\u4E2D cart \u6570\u7EC4\u7684\u8BBF\u95EE\u8DEF\u5F84\u662F m_cart/cart</span>
    <span class="token literal-property property">m_cart</span><span class="token operator">:</span> moduleCart<span class="token punctuation">,</span>
    <span class="token comment">// \u6302\u8F7D\u7528\u6237\u7684 vuex \u6A21\u5757\uFF0C\u8BBF\u95EE\u8DEF\u5F84\u4E3A m_user</span>
    <span class="token literal-property property">m_user</span><span class="token operator">:</span> moduleUser<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4. \u5411\u5916\u5171\u4EAB Store \u7684\u5B9E\u4F8B\u5BF9\u8C61</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li><li><p>\u6539\u9020 <code>address.vue</code> \u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801\uFF0C\u4F7F\u7528 <strong>vuex \u63D0\u4F9B\u7684 address \u8BA1\u7B97\u5C5E\u6027</strong> \u66FF\u4EE3 <strong>data \u4E2D\u5B9A\u4E49\u7684\u672C\u5730 address \u5BF9\u8C61</strong>\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="token comment">// 1. \u6309\u9700\u5BFC\u5165 mapState \u548C mapMutations \u8FD9\u4E24\u4E2A\u8F85\u52A9\u51FD\u6570</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2.1 \u6CE8\u91CA\u6389\u4E0B\u9762\u7684 address \u5BF9\u8C61\uFF0C\u4F7F\u7528 2.2 \u4E2D\u7684\u4EE3\u7801\u66FF\u4EE3\u4E4B</span>
      <span class="token comment">// address: {}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3.1 \u628A m_user \u6A21\u5757\u4E2D\u7684 updateAddress \u51FD\u6570\u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateAddress&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u9009\u62E9\u6536\u8D27\u5730\u5740</span>
    <span class="token keyword">async</span> <span class="token function">chooseAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>err<span class="token punctuation">,</span> succ<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span><span class="token function">chooseAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> err<span class="token punctuation">)</span>

      <span class="token comment">// \u7528\u6237\u6210\u529F\u7684\u9009\u62E9\u4E86\u6536\u8D27\u5730\u5740</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> succ<span class="token punctuation">.</span>errMsg <span class="token operator">===</span> <span class="token string">&#39;chooseAddress:ok&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 3.2 \u628A\u4E0B\u9762\u8FD9\u884C\u4EE3\u7801\u6CE8\u91CA\u6389\uFF0C\u4F7F\u7528 3.3 \u4E2D\u7684\u4EE3\u7801\u66FF\u4EE3\u4E4B</span>
        <span class="token comment">// this.address = succ</span>

        <span class="token comment">// 3.3 \u8C03\u7528 Store \u4E2D\u63D0\u4F9B\u7684 updateAddress \u65B9\u6CD5\uFF0C\u5C06 address \u4FDD\u5B58\u5230 Store \u91CC\u9762</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateAddress</span><span class="token punctuation">(</span>succ<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2.2 \u628A m_user \u6A21\u5757\u4E2D\u7684 address \u5BF9\u8C61\u6620\u5C04\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF0C\u4EE3\u66FF data \u4E2D address \u5BF9\u8C61</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;m_user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;address&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u6536\u8D27\u8BE6\u7EC6\u5730\u5740\u7684\u8BA1\u7B97\u5C5E\u6027</span>
    <span class="token function">addstr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>

      <span class="token comment">// \u62FC\u63A5 \u7701\uFF0C\u5E02\uFF0C\u533A\uFF0C\u8BE6\u7EC6\u5730\u5740 \u7684\u5B57\u7B26\u4E32\u5E76\u8FD4\u56DE\u7ED9\u7528\u6237</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>cityName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>countyName <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>address<span class="token punctuation">.</span>detailInfo
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></li></ol><h3 id="_9-2-5-\u5C06-store-\u4E2D\u7684-address-\u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730" tabindex="-1">9.2.5 \u5C06 Store \u4E2D\u7684 address \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730 <a class="header-anchor" href="#_9-2-5-\u5C06-store-\u4E2D\u7684-address-\u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730" aria-hidden="true">#</a></h3><ol><li><p>\u4FEE\u6539 <code>store/user.js</code> \u6A21\u5757\u4E2D\u7684\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br></div><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5F00\u542F\u547D\u540D\u7A7A\u95F4</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">// state \u6570\u636E</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 3. \u8BFB\u53D6\u672C\u5730\u7684\u6536\u8D27\u5730\u5740\u6570\u636E\uFF0C\u521D\u59CB\u5316 address \u5BF9\u8C61</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>uni<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;address&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&#39;{}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">// \u65B9\u6CD5</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u66F4\u65B0\u6536\u8D27\u5730\u5740</span>
    <span class="token function">updateAddress</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> address</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>address <span class="token operator">=</span> address

      <span class="token comment">// 2. \u901A\u8FC7 this.commit() \u65B9\u6CD5\uFF0C\u8C03\u7528 m_user \u6A21\u5757\u4E0B\u7684 saveAddressToStorage \u65B9\u6CD5\u5C06 address \u5BF9\u8C61\u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;m_user/saveAddressToStorage&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 1. \u5B9A\u4E49\u5C06 address \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730 mutations \u65B9\u6CD5</span>
    <span class="token function">saveAddressToStorage</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      uni<span class="token punctuation">.</span><span class="token function">setStorageSync</span><span class="token punctuation">(</span><span class="token string">&#39;address&#39;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// \u6570\u636E\u5305\u88C5\u5668</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ol><h3 id="_9-2-6-\u5C06-addstr-\u62BD\u79BB\u4E3A-getters" tabindex="-1">9.2.6 \u5C06 addstr \u62BD\u79BB\u4E3A getters <a class="header-anchor" href="#_9-2-6-\u5C06-addstr-\u62BD\u79BB\u4E3A-getters" aria-hidden="true">#</a></h3><blockquote><p>\u76EE\u7684\uFF1A\u4E3A\u4E86\u63D0\u9AD8\u4EE3\u7801\u7684\u590D\u7528\u6027\uFF0C\u53EF\u4EE5\u628A\u6536\u8D27\u7684\u8BE6\u7EC6\u5730\u5740\u62BD\u79BB\u4E3A getters\uFF0C\u65B9\u4FBF\u5728\u591A\u4E2A\u9875\u9762\u548C\u7EC4\u4EF6\u4E4B\u95F4\u5B9E\u73B0\u590D\u7528\u3002</p></blockquote><ol><li><p>\u526A\u5207 <code>my-address.vue</code> \u7EC4\u4EF6\u4E2D\u7684 <code>addstr</code> \u8BA1\u7B97\u5C5E\u6027\u7684\u4EE3\u7801\uFF0C\u7C98\u8D34\u5230 <code>user.js</code> \u6A21\u5757\u4E2D\uFF0C\u4F5C\u4E3A\u4E00\u4E2A getters \u8282\u70B9\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6570\u636E\u5305\u88C5\u5668</span>
<span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6536\u8D27\u8BE6\u7EC6\u5730\u5740\u7684\u8BA1\u7B97\u5C5E\u6027</span>
  <span class="token function">addstr</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>

    <span class="token comment">// \u62FC\u63A5 \u7701\uFF0C\u5E02\uFF0C\u533A\uFF0C\u8BE6\u7EC6\u5730\u5740 \u7684\u5B57\u7B26\u4E32\u5E76\u8FD4\u56DE\u7ED9\u7528\u6237</span>
    <span class="token keyword">return</span> state<span class="token punctuation">.</span>address<span class="token punctuation">.</span>provinceName <span class="token operator">+</span> state<span class="token punctuation">.</span>address<span class="token punctuation">.</span>cityName <span class="token operator">+</span> state<span class="token punctuation">.</span>address<span class="token punctuation">.</span>countyName <span class="token operator">+</span> state<span class="token punctuation">.</span>address<span class="token punctuation">.</span>detailInfo
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u6539\u9020 <code>my-address.vue</code> \u7EC4\u4EF6\u4E2D\u7684\u4EE3\u7801\uFF0C\u901A\u8FC7 <code>mapGetters</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u5C06 <code>m_user</code> \u6A21\u5757\u4E2D\u7684 <code>addstr</code> \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">// \u6309\u9700\u5BFC\u5165 mapGetters \u8F85\u52A9\u51FD\u6570</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapMutations<span class="token punctuation">,</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7701\u7565\u5176\u5B83\u4EE3\u7801</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&#39;m_user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;address&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5C06 m_user \u6A21\u5757\u4E2D\u7684 addstr \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;m_user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;addstr&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol><h3 id="_9-2-7-\u91CD\u65B0\u9009\u62E9\u6536\u8D27\u5730\u5740" tabindex="-1">9.2.7 \u91CD\u65B0\u9009\u62E9\u6536\u8D27\u5730\u5740 <a class="header-anchor" href="#_9-2-7-\u91CD\u65B0\u9009\u62E9\u6536\u8D27\u5730\u5740" aria-hidden="true">#</a></h3><ol><li><p>\u4E3A class \u7C7B\u540D\u4E3A <code>address-info-box</code> \u7684\u76D2\u5B50\u7ED1\u5B9A <code>click</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u5982\u4E0B\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u6E32\u67D3\u6536\u8D27\u4FE1\u606F\u7684\u76D2\u5B50 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address-info-box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chooseAddress<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u7701\u7565\u5176\u5B83\u4EE3\u7801 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h2 id="_9-3-\u7ED3\u7B97\u533A\u57DF" tabindex="-1">9.3 \u7ED3\u7B97\u533A\u57DF <a class="header-anchor" href="#_9-3-\u7ED3\u7B97\u533A\u57DF" aria-hidden="true">#</a></h2><h3 id="_9-3-1-\u628A\u7ED3\u7B97\u533A\u57DF\u5C01\u88C5\u4E3A\u7EC4\u4EF6" tabindex="-1">9.3.1 \u628A\u7ED3\u7B97\u533A\u57DF\u5C01\u88C5\u4E3A\u7EC4\u4EF6 <a class="header-anchor" href="#_9-3-1-\u628A\u7ED3\u7B97\u533A\u57DF\u5C01\u88C5\u4E3A\u7EC4\u4EF6" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>components</code> \u76EE\u5F55\u4E2D\uFF0C\u65B0\u5EFA <code>my-settle</code> \u7ED3\u7B97\u7EC4\u4EF6\uFF1A</p><p><img src="`+c+`" alt=""></p></li><li><p>\u521D\u59CB\u5316 <code>my-settle</code> \u7EC4\u4EF6\u7684\u57FA\u672C\u7ED3\u6784\u548C\u6837\u5F0F\uFF1A</p><div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u6700\u5916\u5C42\u7684\u5BB9\u5668 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-settle-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \u7ED3\u7B97\u7EC4\u4EF6
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.my-settle-container</span> <span class="token punctuation">{</span>
  <span class="token comment">/* \u5E95\u90E8\u56FA\u5B9A\u5B9A\u4F4D */</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token comment">/* \u8BBE\u7F6E\u5BBD\u9AD8\u548C\u80CC\u666F\u8272 */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> cyan<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>\u5728 <code>cart.vue</code> \u9875\u9762\u4E2D\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684 <code>my-settle</code> \u7EC4\u4EF6\uFF0C\u5E76\u7F8E\u5316\u9875\u9762\u6837\u5F0F\uFF0C\u9632\u6B62\u9875\u9762\u5E95\u90E8\u88AB\u8986\u76D6\uFF1A</p><div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684 address \u7EC4\u4EF6 --&gt;</span>

    <span class="token comment">&lt;!-- \u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF --&gt;</span>

    <span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>

    <span class="token comment">&lt;!-- \u7ED3\u7B97\u533A\u57DF --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-settle</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-settle</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.cart-container</span> <span class="token punctuation">{</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li></ol><h3 id="_9-3-2-\u6E32\u67D3\u7ED3\u7B97\u533A\u57DF\u7684\u7ED3\u6784\u548C\u6837\u5F0F" tabindex="-1">9.3.2 \u6E32\u67D3\u7ED3\u7B97\u533A\u57DF\u7684\u7ED3\u6784\u548C\u6837\u5F0F <a class="header-anchor" href="#_9-3-2-\u6E32\u67D3\u7ED3\u7B97\u533A\u57DF\u7684\u7ED3\u6784\u548C\u6837\u5F0F" aria-hidden="true">#</a></h3><ol><li><p>\u5B9A\u4E49\u5982\u4E0B\u7684 UI \u7ED3\u6784\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u6700\u5916\u5C42\u7684\u5BB9\u5668 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-settle-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5168\u9009\u533A\u57DF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>\u5168\u9009<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u5408\u8BA1\u533A\u57DF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \u5408\u8BA1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE51234.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u7ED3\u7B97\u6309\u94AE --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-settle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7ED3\u7B97(0)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u7F8E\u5316\u6837\u5F0F\uFF1A</p><div class="language-scss line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token selector">.my-settle-container </span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token comment">// \u5C06\u80CC\u666F\u8272\u4ECE cyan \u6539\u4E3A white</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>

  <span class="token selector">.radio </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.amount </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #c00000<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.btn-settle </span><span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #c00000<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div></li></ol><h3 id="_9-3-3-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF" tabindex="-1">9.3.3 \u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF <a class="header-anchor" href="#_9-3-3-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u4E2D\uFF0C\u5B9A\u4E49\u4E00\u4E2A\u540D\u79F0\u4E3A <code>checkedCount</code> \u7684 getters\uFF0C\u7528\u6765\u7EDF\u8BA1\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u6570\u91CF\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u52FE\u9009\u7684\u5546\u54C1\u7684\u603B\u6570\u91CF</span>
<span class="token function">checkedCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5148\u4F7F\u7528 filter \u65B9\u6CD5\uFF0C\u4ECE\u8D2D\u7269\u8F66\u4E2D\u8FC7\u6EE4\u5668\u5DF2\u52FE\u9009\u7684\u5546\u54C1</span>
  <span class="token comment">// \u518D\u4F7F\u7528 reduce \u65B9\u6CD5\uFF0C\u5C06\u5DF2\u52FE\u9009\u7684\u5546\u54C1\u603B\u6570\u91CF\u8FDB\u884C\u7D2F\u52A0</span>
  <span class="token comment">// reduce() \u7684\u8FD4\u56DE\u503C\u5C31\u662F\u5DF2\u52FE\u9009\u7684\u5546\u54C1\u7684\u603B\u6570\u91CF</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> total <span class="token operator">+=</span> item<span class="token punctuation">.</span>goods_count<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u5728 <code>my-settle</code> \u7EC4\u4EF6\u4E2D\uFF0C\u901A\u8FC7 <code>mapGetters</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u5C06\u9700\u8981\u7684 getters \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted">\xA0</div><br><br><br><div class="highlighted">\xA0</div><br><br><br><br><br><br></div><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;checkedCount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u5C06 <code>checkedCount</code> \u7684\u503C\u6E32\u67D3\u5230\u9875\u9762\u4E2D\uFF1A</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u7ED3\u7B97\u6309\u94AE --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-settle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7ED3\u7B97({{checkedCount}})<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol><h3 id="_9-3-4-\u52A8\u6001\u6E32\u67D3\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001" tabindex="-1">9.3.4 \u52A8\u6001\u6E32\u67D3\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001 <a class="header-anchor" href="#_9-3-4-\u52A8\u6001\u6E32\u67D3\u5168\u9009\u6309\u94AE\u7684\u9009\u4E2D\u72B6\u6001" aria-hidden="true">#</a></h3><ol><li><p>\u4F7F\u7528 <code>mapGetters</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u5C06<strong>\u5546\u54C1\u7684\u603B\u6570\u91CF</strong>\u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF0C\u5E76\u5B9A\u4E49\u4E00\u4E2A\u53EB\u505A <code>isFullCheck</code> \u7684\u8BA1\u7B97\u5C5E\u6027\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted">\xA0</div><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br></div><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. \u5C06 total \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;checkedCount&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;total&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 2. \u662F\u5426\u5168\u9009</span>
    <span class="token function">isFullCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checkedCount
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u4E3A radio \u7EC4\u4EF6\u52A8\u6001\u7ED1\u5B9A <code>checked</code> \u5C5E\u6027\u7684\u503C\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5168\u9009\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFullCheck<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>\u5168\u9009<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h3 id="_9-3-5-\u5B9E\u73B0\u5546\u54C1\u7684\u5168\u9009-\u53CD\u9009\u529F\u80FD" tabindex="-1">9.3.5 \u5B9E\u73B0\u5546\u54C1\u7684\u5168\u9009/\u53CD\u9009\u529F\u80FD <a class="header-anchor" href="#_9-3-5-\u5B9E\u73B0\u5546\u54C1\u7684\u5168\u9009-\u53CD\u9009\u529F\u80FD" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u4E2D\uFF0C\u5B9A\u4E49\u4E00\u4E2A\u53EB\u505A <code>updateAllGoodsState</code> \u7684 mutations \u65B9\u6CD5\uFF0C\u7528\u6765\u4FEE\u6539\u6240\u6709\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u66F4\u65B0\u6240\u6709\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001</span>
<span class="token function">updateAllGoodsState</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> newState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5FAA\u73AF\u66F4\u65B0\u8D2D\u7269\u8F66\u4E2D\u6BCF\u4EF6\u5546\u54C1\u7684\u52FE\u9009\u72B6\u6001</span>
  state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_state <span class="token operator">=</span> newState<span class="token punctuation">)</span>
  <span class="token comment">// \u6301\u4E45\u5316\u5B58\u50A8\u5230\u672C\u5730</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart/saveToStorage&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u5728 <code>my-settle</code> \u7EC4\u4EF6\u4E2D\uFF0C\u901A\u8FC7 <code>mapMutations</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u5C06\u9700\u8981\u7684 mutations \u65B9\u6CD5\u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">// 1. \u6309\u9700\u5BFC\u5165 mapMutations \u8F85\u52A9\u51FD\u6570</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7701\u7565\u5176\u5B83\u4EE3\u7801</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2. \u4F7F\u7528 mapMutations \u8F85\u52A9\u51FD\u6570\uFF0C\u628A m_cart \u6A21\u5757\u63D0\u4F9B\u7684 updateAllGoodsState \u65B9\u6CD5\u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateAllGoodsState&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u4E3A UI \u4E2D\u7684 <code>label</code> \u7EC4\u4EF6\u7ED1\u5B9A <code>click</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token comment">&lt;!-- \u5168\u9009\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAllState<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>radio</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#C00000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isFullCheck<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>\u5168\u9009<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u5728 <code>my-settle</code> \u7EC4\u4EF6\u7684 methods \u8282\u70B9\u4E2D\uFF0C\u58F0\u660E <code>changeAllState</code> \u4E8B\u4EF6\u5904\u7406\u51FD\u6570\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br></div><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;updateAllGoodsState&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// label \u7684\u70B9\u51FB\u4E8B\u4EF6\u5904\u7406\u51FD\u6570</span>
  <span class="token function">changeAllState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u6240\u6709\u5546\u54C1\u7684\u9009\u4E2D\u72B6\u6001</span>
    <span class="token comment">// !this.isFullCheck \u8868\u793A\uFF1A\u5F53\u524D\u5168\u9009\u6309\u94AE\u7684\u72B6\u6001\u53D6\u53CD\u4E4B\u540E\uFF0C\u5C31\u662F\u6700\u65B0\u7684\u52FE\u9009\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateAllGoodsState</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isFullCheck<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h3 id="_9-3-6-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C" tabindex="-1">9.3.6 \u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C <a class="header-anchor" href="#_9-3-6-\u52A8\u6001\u6E32\u67D3\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C" aria-hidden="true">#</a></h3><ol><li><p>\u5728 <code>store/cart.js</code> \u6A21\u5757\u4E2D\uFF0C\u5B9A\u4E49\u4E00\u4E2A\u53EB\u505A <code>checkedGoodsAmount</code> \u7684 getters\uFF0C\u7528\u6765\u7EDF\u8BA1\u5DF2\u52FE\u9009\u5546\u54C1\u7684\u603B\u4EF7\u683C\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u5DF2\u52FE\u9009\u7684\u5546\u54C1\u7684\u603B\u4EF7</span>
<span class="token function">checkedGoodsAmount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5148\u4F7F\u7528 filter \u65B9\u6CD5\uFF0C\u4ECE\u8D2D\u7269\u8F66\u4E2D\u8FC7\u6EE4\u5668\u5DF2\u52FE\u9009\u7684\u5546\u54C1</span>
  <span class="token comment">// \u518D\u4F7F\u7528 reduce \u65B9\u6CD5\uFF0C\u5C06\u5DF2\u52FE\u9009\u7684\u5546\u54C1\u6570\u91CF * \u5355\u4EF7\u4E4B\u540E\uFF0C\u8FDB\u884C\u7D2F\u52A0</span>
  <span class="token comment">// reduce() \u7684\u8FD4\u56DE\u503C\u5C31\u662F\u5DF2\u52FE\u9009\u7684\u5546\u54C1\u7684\u603B\u4EF7</span>
  <span class="token comment">// \u6700\u540E\u8C03\u7528 toFixed(2) \u65B9\u6CD5\uFF0C\u4FDD\u7559\u4E24\u4F4D\u5C0F\u6570</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>goods_state<span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> total <span class="token operator">+=</span> item<span class="token punctuation">.</span>goods_count <span class="token operator">*</span> item<span class="token punctuation">.</span>goods_price<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u5728 <code>my-settle</code> \u7EC4\u4EF6\u4E2D\uFF0C\u4F7F\u7528 <code>mapGetters</code> \u8F85\u52A9\u51FD\u6570\uFF0C\u628A\u9700\u8981\u7684 <code>checkedGoodsAmount</code> \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-js line-numbers-mode"><pre><code><span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;total&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;checkedCount&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;checkedGoodsAmount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u5728\u7EC4\u4EF6\u7684 UI \u7ED3\u6784\u4E2D\uFF0C\u6E32\u67D3\u5DF2\u52FE\u9009\u7684\u5546\u54C1\u7684\u603B\u4EF7\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token comment">&lt;!-- \u5408\u8BA1\u533A\u57DF --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \u5408\u8BA1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{checkedGoodsAmount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h3 id="_9-3-7-\u52A8\u6001\u8BA1\u7B97\u8D2D\u7269\u8F66\u5FBD\u6807\u7684\u6570\u503C" tabindex="-1">9.3.7 \u52A8\u6001\u8BA1\u7B97\u8D2D\u7269\u8F66\u5FBD\u6807\u7684\u6570\u503C <a class="header-anchor" href="#_9-3-7-\u52A8\u6001\u8BA1\u7B97\u8D2D\u7269\u8F66\u5FBD\u6807\u7684\u6570\u503C" aria-hidden="true">#</a></h3><ol><li><p><strong>\u95EE\u9898\u8BF4\u660E</strong>\uFF1A\u5F53\u4FEE\u6539\u8D2D\u7269\u8F66\u4E2D\u5546\u54C1\u7684\u6570\u91CF\u4E4B\u540E\uFF0CtabBar \u4E0A\u7684\u6570\u5B57\u5FBD\u6807\u4E0D\u4F1A\u81EA\u52A8\u66F4\u65B0\u3002</p></li><li><p><strong>\u89E3\u51B3\u65B9\u6848</strong>\uFF1A\u6539\u9020 <code>mixins/tabbar-badge.js</code> \u4E2D\u7684\u4EE3\u7801\uFF0C\u4F7F\u7528 <code>watch</code> \u4FA6\u542C\u5668\uFF0C\u76D1\u542C <code>total</code> \u603B\u6570\u91CF\u7684\u53D8\u5316\uFF0C\u4ECE\u800C\u52A8\u6001\u4E3A tabBar \u7684\u5FBD\u6807\u8D4B\u503C\uFF1A</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

<span class="token comment">// \u5BFC\u51FA\u4E00\u4E2A mixin \u5BF9\u8C61</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">&#39;m_cart&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;total&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u76D1\u542C total \u503C\u7684\u53D8\u5316</span>
    <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8C03\u7528 methods \u4E2D\u7684 setBadge \u65B9\u6CD5\uFF0C\u91CD\u65B0\u4E3A tabBar \u7684\u6570\u5B57\u5FBD\u7AE0\u8D4B\u503C</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setBadge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5728\u9875\u9762\u521A\u5C55\u793A\u7684\u65F6\u5019\uFF0C\u8BBE\u7F6E\u6570\u5B57\u5FBD\u6807</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setBadge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setBadge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8C03\u7528 uni.setTabBarBadge() \u65B9\u6CD5\uFF0C\u4E3A\u8D2D\u7269\u8F66\u8BBE\u7F6E\u53F3\u4E0A\u89D2\u7684\u5FBD\u6807</span>
      uni<span class="token punctuation">.</span><span class="token function">setTabBarBadge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6CE8\u610F\uFF1Atext \u7684\u503C\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\uFF0C\u4E0D\u80FD\u662F\u6570\u5B57</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li></ol><h3 id="_9-3-8-\u6E32\u67D3\u8D2D\u7269\u8F66\u4E3A\u7A7A\u65F6\u7684\u9875\u9762\u7ED3\u6784" tabindex="-1">9.3.8 \u6E32\u67D3\u8D2D\u7269\u8F66\u4E3A\u7A7A\u65F6\u7684\u9875\u9762\u7ED3\u6784 <a class="header-anchor" href="#_9-3-8-\u6E32\u67D3\u8D2D\u7269\u8F66\u4E3A\u7A7A\u65F6\u7684\u9875\u9762\u7ED3\u6784" aria-hidden="true">#</a></h3><ol><li><p>\u5C06 <code>\u8D44\u6599</code> \u76EE\u5F55\u4E2D\u7684 <code>cart_empty@2x.png</code> \u56FE\u7247\u590D\u5236\u5230\u9879\u76EE\u7684 <code>/static/</code> \u76EE\u5F55\u4E2D</p></li><li><p>\u6539\u9020 <code>cart.vue</code> \u9875\u9762\u7684 UI \u7ED3\u6784\uFF0C\u4F7F\u7528 <code>v-if</code> \u548C <code>v-else</code> \u63A7\u5236<strong>\u8D2D\u7269\u8F66\u533A\u57DF</strong>\u548C<strong>\u7A7A\u767D\u8D2D\u7269\u8F66\u533A\u57DF</strong>\u7684\u6309\u9700\u5C55\u793A\uFF1A</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted">\xA0</div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cart.length !== 0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684 address \u7EC4\u4EF6 --&gt;</span>

    <span class="token comment">&lt;!-- \u8D2D\u7269\u8F66\u5546\u54C1\u5217\u8868\u7684\u6807\u9898\u533A\u57DF --&gt;</span>

    <span class="token comment">&lt;!-- \u5546\u54C1\u5217\u8868\u533A\u57DF --&gt;</span>

    <span class="token comment">&lt;!-- \u7ED3\u7B97\u533A\u57DF --&gt;</span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- \u7A7A\u767D\u8D2D\u7269\u8F66\u533A\u57DF --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empty-cart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/cart_empty@2x.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empty-img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tip-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7A7A\u7A7A\u5982\u4E5F~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li><li><p>\u7F8E\u5316\u7A7A\u767D\u8D2D\u7269\u8F66\u533A\u57DF\u7684\u6837\u5F0F\uFF1A</p><div class="language-scss line-numbers-mode"><pre><code><span class="token selector">.empty-cart </span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>

  <span class="token selector">.empty-img </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 90px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.tip-text </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol><h2 id="_9-4-\u5206\u652F\u7684\u5408\u5E76\u4E0E\u63D0\u4EA4" tabindex="-1">9.4 \u5206\u652F\u7684\u5408\u5E76\u4E0E\u63D0\u4EA4 <a class="header-anchor" href="#_9-4-\u5206\u652F\u7684\u5408\u5E76\u4E0E\u63D0\u4EA4" aria-hidden="true">#</a></h2><ol><li><p>\u5C06 <code>cart</code> \u5206\u652F\u8FDB\u884C\u672C\u5730\u63D0\u4EA4\uFF1A</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;\u5B8C\u6210\u4E86\u8D2D\u7269\u8F66\u7684\u5F00\u53D1&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u5C06\u672C\u5730\u7684 <code>cart</code> \u5206\u652F\u63A8\u9001\u5230\u7801\u4E91\uFF1A</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> push -u origin cart
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>\u5C06\u672C\u5730 <code>cart</code> \u5206\u652F\u4E2D\u7684\u4EE3\u7801\u5408\u5E76\u5230 <code>master</code> \u5206\u652F\uFF1A</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> checkout master
<span class="token function">git</span> merge cart
<span class="token function">git</span> push
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u5220\u9664\u672C\u5730\u7684 <code>cart</code> \u5206\u652F\uFF1A</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> branch -d cart
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol>`,67),i=[u];function r(k,b,d,m,g,v){return a(),s("div",null,i)}var q=n(l,[["render",r]]);export{y as __pageData,q as default};
