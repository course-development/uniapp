<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>7. 商品详情 | uniapp</title>
    <meta name="description" content="uniapp文档">
    <link rel="stylesheet" href="/uniapp/assets/style.8e78fc31.css">
    <link rel="modulepreload" href="/uniapp/assets/plugin-vue_export-helper.abe1cdd2.js">
    <link rel="modulepreload" href="/uniapp/assets/Home.e0c1a336.js">
    <link rel="modulepreload" href="/uniapp/assets/AlgoliaSearchBox.5d3b5af3.js">
    <link rel="modulepreload" href="/uniapp/assets/uniapp_mds_7.goodsdetail.md.3f23ae34.lean.js">
    <link rel="modulepreload" href="/uniapp/assets/app.eab2e4c9.js">
    
    <meta name="twitter:title" content="7. 商品详情 | uniapp">
  <meta property="og:title" content="7. 商品详情 | uniapp">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/uniapp/" aria-label="uniapp, back to home" data-v-675d8756 data-v-4a583abe><!----> uniapp</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/uniapp/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/uniapp/config/basics" data-v-b8818f8c>Config Reference <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/uniapp/" data-v-b8818f8c>Guide <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/uniapp/config/basics" data-v-b8818f8c>Config Reference <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/mds">uniapp</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/1.start.html">1.起步</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/2.tabbar.html">2.tabBar</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/3.home.html">3.首页</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/4.cate.html">4.分类</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/5.search.html">5.搜索</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/6.goodslist.html">6.商品列表</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/uniapp/uniapp/mds/7.goodsdetail.html">7.商品详情</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-0-创建-goodsdetail-分支">7.0 创建 goodsdetail 分支</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-1-添加商品详情页的编译模式">7.1 添加商品详情页的编译模式</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-2-获取商品详情数据">7.2 获取商品详情数据</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-渲染商品详情页的-ui-结构">7.3 渲染商品详情页的 UI 结构</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-1-渲染轮播图区域">7.3.1 渲染轮播图区域</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-2-实现轮播图预览效果">7.3.2 实现轮播图预览效果</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-3-渲染商品信息区域">7.3.3 渲染商品信息区域</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-4-渲染商品详情信息">7.3.4 渲染商品详情信息</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-3-5-解决商品价格闪烁的问题">7.3.5 解决商品价格闪烁的问题</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-4-渲染详情页底部的商品导航区域">7.4 渲染详情页底部的商品导航区域</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-4-1-渲染商品导航区域的-ui-结构">7.4.1 渲染商品导航区域的 UI 结构</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-4-2-点击跳转到购物车页面">7.4.2 点击跳转到购物车页面</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_7-5-分支的合并与提交">7.5 分支的合并与提交</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/8.add2cart.html">8.加入购物车</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/9.cart.html">9.购物车页面</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/10.settle.html">10.我的页面</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/uniapp/uniapp/mds/11.publish.html">11.发布</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="_7-商品详情" tabindex="-1">7. 商品详情 <a class="header-anchor" href="#_7-商品详情" aria-hidden="true">#</a></h1><h2 id="_7-0-创建-goodsdetail-分支" tabindex="-1">7.0 创建 goodsdetail 分支 <a class="header-anchor" href="#_7-0-创建-goodsdetail-分支" aria-hidden="true">#</a></h2><p>运行如下的命令，基于 master 分支在本地创建 goodsdetail 子分支，用来开发商品详情页相关的功能：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> checkout -b goodsdetail
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_7-1-添加商品详情页的编译模式" tabindex="-1">7.1 添加商品详情页的编译模式 <a class="header-anchor" href="#_7-1-添加商品详情页的编译模式" aria-hidden="true">#</a></h2><ol><li><p>在微信开发者工具中，点击工具栏上的编译模式下拉菜单，选择 <code>添加编译模式</code> 选项：</p><p><img src="data:image/png;base64,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" alt=""></p></li><li><p>勾选 <code>启动页面</code> 的路径，并填写了 <code>启动参数</code> 之后，点击 <code>确定</code> 按钮，添加详情页面的编译模式：</p><p><img src="/uniapp/assets/7-2.4cae29e9.png" alt=""></p></li></ol><h2 id="_7-2-获取商品详情数据" tabindex="-1">7.2 获取商品详情数据 <a class="header-anchor" href="#_7-2-获取商品详情数据" aria-hidden="true">#</a></h2><ol><li><p>在 <code>data</code> 中定义商品详情的数据节点：</p><div class="language-js line-numbers-mode"><pre><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 商品详情对象</span>
    <span class="token literal-property property">goods_info</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>在 <code>onLoad</code> 中获取商品的 Id，并调用请求商品详情的方法：</p><div class="language-js line-numbers-mode"><pre><code><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取商品 Id</span>
  <span class="token keyword">const</span> goods_id <span class="token operator">=</span> options<span class="token punctuation">.</span>goods_id
  <span class="token comment">// 调用请求商品详情数据的方法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getGoodsDetail</span><span class="token punctuation">(</span>goods_id<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>在 <code>methods</code> 中声明 <code>getGoodsDetail</code> 方法：</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 定义请求商品详情数据的方法</span>
  <span class="token keyword">async</span> <span class="token function">getGoodsDetail</span><span class="token punctuation">(</span><span class="token parameter">goods_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/api/public/v1/goods/detail&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> goods_id <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">return</span> uni<span class="token punctuation">.</span><span class="token function">$showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 为 data 中的数据赋值</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>goods_info <span class="token operator">=</span> res<span class="token punctuation">.</span>message
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h2 id="_7-3-渲染商品详情页的-ui-结构" tabindex="-1">7.3 渲染商品详情页的 UI 结构 <a class="header-anchor" href="#_7-3-渲染商品详情页的-ui-结构" aria-hidden="true">#</a></h2><h3 id="_7-3-1-渲染轮播图区域" tabindex="-1">7.3.1 渲染轮播图区域 <a class="header-anchor" href="#_7-3-1-渲染轮播图区域" aria-hidden="true">#</a></h3><ol><li><p>使用 <code>v-for</code> 指令，循环渲染如下的轮播图 UI 结构：</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- 轮播图区域 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper</span> <span class="token attr-name">:indicator-dots</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:autoplay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:interval</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:duration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:circular</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in goods_info.pics<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.pics_big<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>美化轮播图的样式：</p><div class="language-scss line-numbers-mode"><pre><code><span class="token selector">swiper </span><span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 750rpx<span class="token punctuation">;</span>

  <span class="token selector">image </span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h3 id="_7-3-2-实现轮播图预览效果" tabindex="-1">7.3.2 实现轮播图预览效果 <a class="header-anchor" href="#_7-3-2-实现轮播图预览效果" aria-hidden="true">#</a></h3><ol><li><p>为轮播图中的 <code>image</code> 图片绑定 <code>click</code> 事件处理函数：</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, i) in goods_info.pics<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 把当前点击的图片的索引，传递到 preview() 处理函数中 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.pics_big<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preview(i)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-item</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>在 <code>methods</code> 中定义 <code>preview</code> 事件处理函数：</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// 实现轮播图的预览效果</span>
<span class="token function">preview</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 调用 uni.previewImage() 方法预览图片</span>
  uni<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 预览时，默认显示图片的索引</span>
    <span class="token literal-property property">current</span><span class="token operator">:</span> i<span class="token punctuation">,</span>
    <span class="token comment">// 所有图片 url 地址的数组</span>
    <span class="token literal-property property">urls</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>goods_info<span class="token punctuation">.</span>pics<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>pics_big<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ol><h3 id="_7-3-3-渲染商品信息区域" tabindex="-1">7.3.3 渲染商品信息区域 <a class="header-anchor" href="#_7-3-3-渲染商品信息区域" aria-hidden="true">#</a></h3><ol><li><p>定义商品信息区域的 UI 结构如下：</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- 商品信息区域 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 商品价格 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>￥{{goods_info.goods_price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 信息主体区域 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info-body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 商品名称 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{goods_info.goods_name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 收藏 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>favi<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-icons</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>star<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gray<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-icons</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 运费 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yf<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>快递：免运费<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>美化商品信息区域的样式：</p><div class="language-scss line-numbers-mode"><pre><code><span class="token comment">// 商品信息区域的样式</span>
<span class="token selector">.goods-info-box </span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>

  <span class="token selector">.price </span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #c00000<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 10px 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.goods-info-body </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>

    <span class="token selector">.goods-name </span><span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>
      <span class="token property">padding-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 收藏区域</span>
    <span class="token selector">.favi </span><span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #efefef<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 运费</span>
  <span class="token selector">.yf </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 10px 0<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></li></ol><h3 id="_7-3-4-渲染商品详情信息" tabindex="-1">7.3.4 渲染商品详情信息 <a class="header-anchor" href="#_7-3-4-渲染商品详情信息" aria-hidden="true">#</a></h3><ol><li><p>在页面结构中，使用 <code>rich-text</code> 组件，将带有 HTML 标签的内容，渲染为小程序的页面结构：</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- 商品详情信息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rich-text</span> <span class="token attr-name">:nodes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods_info.goods_introduce<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rich-text</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>修改 <code>getGoodsDetail</code> 方法，从而解决图片底部 <code>空白间隙</code> 的问题：</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre><code><span class="token comment">// 定义请求商品详情数据的方法</span>
<span class="token keyword">async</span> <span class="token function">getGoodsDetail</span><span class="token punctuation">(</span><span class="token parameter">goods_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/api/public/v1/goods/detail&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> goods_id <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">return</span> uni<span class="token punctuation">.</span><span class="token function">$showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 使用字符串的 replace() 方法，为 img 标签添加行内的 style 样式，从而解决图片底部空白间隙的问题</span>
  res<span class="token punctuation">.</span>message<span class="token punctuation">.</span>goods_introduce <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">.</span>goods_introduce<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;img </span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&lt;img style=&quot;display:block;&quot; &#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>goods_info <span class="token operator">=</span> res<span class="token punctuation">.</span>message
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>解决 <code>.webp</code> 格式图片在 <code>ios</code> 设备上无法正常显示的问题：</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre><code><span class="token comment">// 定义请求商品详情数据的方法</span>
<span class="token keyword">async</span> <span class="token function">getGoodsDetail</span><span class="token punctuation">(</span><span class="token parameter">goods_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> uni<span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/api/public/v1/goods/detail&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> goods_id <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">return</span> uni<span class="token punctuation">.</span><span class="token function">$showMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// 使用字符串的 replace() 方法，将 webp 的后缀名替换为 jpg 的后缀名</span>
  res<span class="token punctuation">.</span>message<span class="token punctuation">.</span>goods_introduce <span class="token operator">=</span> res<span class="token punctuation">.</span>message<span class="token punctuation">.</span>goods_introduce<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;img </span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&lt;img style=&quot;display:block;&quot; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">webp</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;jpg&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>goods_info <span class="token operator">=</span> res<span class="token punctuation">.</span>message
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h3 id="_7-3-5-解决商品价格闪烁的问题" tabindex="-1">7.3.5 解决商品价格闪烁的问题 <a class="header-anchor" href="#_7-3-5-解决商品价格闪烁的问题" aria-hidden="true">#</a></h3><ol><li><p>导致问题的原因：在商品详情数据请求回来之前，data 中 <code>goods_info</code> 的值为 <code>{}</code>，因此初次渲染页面时，会导致 <code>商品价格、商品名称</code> 等闪烁的问题。</p></li><li><p>解决方案：判断 <code>goods_info.goods_name</code> 属性的值是否存在，从而使用 <code>v-if</code> 指令控制页面的显示与隐藏：</p><div class="language-xml line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br></div><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods_info.goods_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!-- 省略其它代码 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol><h2 id="_7-4-渲染详情页底部的商品导航区域" tabindex="-1">7.4 渲染详情页底部的商品导航区域 <a class="header-anchor" href="#_7-4-渲染详情页底部的商品导航区域" aria-hidden="true">#</a></h2><h3 id="_7-4-1-渲染商品导航区域的-ui-结构" tabindex="-1">7.4.1 渲染商品导航区域的 UI 结构 <a class="header-anchor" href="#_7-4-1-渲染商品导航区域的-ui-结构" aria-hidden="true">#</a></h3><blockquote><p>基于 uni-ui 提供的 <a href="https://ext.dcloud.net.cn/plugin?id=865" target="_blank" rel="noopener noreferrer">GoodsNav</a> 组件来实现商品导航区域的效果</p></blockquote><ol><li><p>在 data 中，通过 <code>options</code> 和 <code>buttonGroup</code> 两个数组，来声明商品导航组件的按钮配置对象：</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre><code><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// 商品详情对象</span>
    <span class="token literal-property property">goods_info</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 左侧按钮组的配置对象</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;shop&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;店铺&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;cart&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;购物车&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 右侧按钮组的配置对象</span>
    <span class="token literal-property property">buttonGroup</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;加入购物车&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;#ff0000&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&#39;立即购买&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;#ffa200&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#fff&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>在页面中使用 <code>uni-goods-nav</code> 商品导航组件：</p><div class="language-xml line-numbers-mode"><pre><code><span class="token comment">&lt;!-- 商品导航组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods_nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- fill 控制右侧按钮的样式 --&gt;</span>
  <span class="token comment">&lt;!-- options 左侧按钮的配置项 --&gt;</span>
  <span class="token comment">&lt;!-- buttonGroup 右侧按钮的配置项 --&gt;</span>
  <span class="token comment">&lt;!-- click 左侧按钮的点击事件处理函数 --&gt;</span>
  <span class="token comment">&lt;!-- buttonClick 右侧按钮的点击事件处理函数 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-goods-nav</span> <span class="token attr-name">:fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:options</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>options<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:buttonGroup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buttonGroup<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onClick<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@buttonClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buttonClick<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>美化商品导航组件，使之固定在页面最底部：</p><div class="language-scss line-numbers-mode"><pre><code><span class="token selector">.goods-detail-container </span><span class="token punctuation">{</span>
  <span class="token comment">// 给页面外层的容器，添加 50px 的内padding，</span>
  <span class="token comment">// 防止页面内容被底部的商品导航组件遮盖</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.goods_nav </span><span class="token punctuation">{</span>
  <span class="token comment">// 为商品导航组件添加固定定位</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol><h3 id="_7-4-2-点击跳转到购物车页面" tabindex="-1">7.4.2 点击跳转到购物车页面 <a class="header-anchor" href="#_7-4-2-点击跳转到购物车页面" aria-hidden="true">#</a></h3><ol><li><p>点击商品导航组件左侧的按钮，会触发 <code>uni-goods-nav</code> 的 <code>@click</code> 事件处理函数，事件对象 <code>e</code> 中会包含当前点击的按钮相关的信息：</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre><code><span class="token comment">// 左侧按钮的点击事件处理函数</span>
<span class="token function">onClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>打印的按钮信息对象如下：</p><p><img src="data:image/png;base64,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" alt=""></p></li><li><p>根据 <code>e.content.text</code> 的值，来决定进一步的操作：</p><div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre><code><span class="token comment">// 左侧按钮的点击事件处理函数</span>
<span class="token function">onClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>content<span class="token punctuation">.</span>text <span class="token operator">===</span> <span class="token string">&#39;购物车&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 切换到购物车页面</span>
    uni<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/pages/cart/cart&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol><h2 id="_7-5-分支的合并与提交" tabindex="-1">7.5 分支的合并与提交 <a class="header-anchor" href="#_7-5-分支的合并与提交" aria-hidden="true">#</a></h2><ol><li><p>将 <code>goodsdetail</code> 分支进行本地提交：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit -m <span class="token string">&quot;完成了商品详情页面的开发&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>将本地的 <code>goodsdetail</code> 分支推送到码云：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> push -u origin goodsdetail
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li><li><p>将本地 <code>goodsdetail</code> 分支中的代码合并到 <code>master</code> 分支：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> checkout master
<span class="token function">git</span> merge goodsdetail
<span class="token function">git</span> push
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>删除本地的 <code>goodsdetail</code> 分支：</p><div class="language-bash line-numbers-mode"><pre><code><span class="token function">git</span> branch -d goodsdetail
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>上次更新:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/uniapp/uniapp/mds/6.goodslist" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>6.商品列表</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/uniapp/uniapp/mds/8.add2cart" data-v-38ede35f><span class="text" data-v-38ede35f>8.加入购物车</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"c172618c\",\"uniapp_mds_1.start.md\":\"edcbb714\",\"uniapp_mds_10.settle.md\":\"2eca722e\",\"uniapp_mds_11.publish.md\":\"f9c9ea26\",\"uniapp_mds_2.tabbar.md\":\"7a94d57d\",\"uniapp_mds_3.home.md\":\"f3d22d82\",\"uniapp_mds_4.cate.md\":\"8046f855\",\"uniapp_mds_5.search.md\":\"9071b42b\",\"uniapp_mds_6.goodslist.md\":\"a59c6904\",\"uniapp_mds_7.goodsdetail.md\":\"3f23ae34\",\"uniapp_mds_8.add2cart.md\":\"d48ac617\",\"uniapp_mds_9.cart.md\":\"456de0e9\"}")</script>
    <script type="module" async src="/uniapp/assets/app.eab2e4c9.js"></script>
    
  </body>
</html>